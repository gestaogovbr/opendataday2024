"use strict";(self.webpackChunk_jupyterlab_fasta_extension=self.webpackChunk_jupyterlab_fasta_extension||[]).push([[568],{1568:(e,s,t)=>{t.r(s),t.d(s,{RenderedData:()=>r,default:()=>d,rendererFactory:()=>o});var a=t(8778),n=t(793);const i={"application/vnd.fasta.fasta":{name:"Fasta",extensions:[".fasta",".fa"],reader:n.io.fasta},"application/vnd.clustal.clustal":{name:"Clustal",extensions:[".clustal",".aln"],reader:n.io.clustal}};class r extends a.Widget{constructor(e){super(),this._mimeType=e.mimeType,this._parser=i[this._mimeType].reader,this.addClass("jp-RenderedMSA");const s=document.createElement("div");this.msa=new n.msa({el:s,vis:{sequences:!0,markers:!0,metacell:!1,conserv:!1,overviewbox:!0,seqlogo:!1,gapHeader:!1,leftHeader:!0}}),this.node.appendChild(s)}renderModel(e){return new Promise(((s,t)=>{const a=e.data[this._mimeType],n=this._parser.parse(a);this.msa.seqs.reset(n),this.msa.render(),this.update(),s()}))}onAfterShow(e){this.update()}onResize(e){this.update()}onUpdateRequest(e){if(this.isVisible){const e=this.node.getBoundingClientRect().width-this.msa.g.zoomer.getLeftBlockWidth();this.msa.g.zoomer.set("alignmentWidth",e)}}}const o={safe:!1,mimeTypes:Object.keys(i),createRenderer:e=>new r(e)},d=Object.keys(i).map((e=>{const{name:s}=i[e];return{id:`jupyterlab-fasta:${s}`,rendererFactory:o,rank:0,dataType:"string",fileTypes:[{name:s,extensions:i[e].extensions,mimeTypes:[e],iconClass:"jp-MaterialIcon jp-MSAIcon"}],documentWidgetFactoryOptions:{name:s,primaryFileType:s,fileTypes:[s],defaultFor:[s]}}}))}}]);